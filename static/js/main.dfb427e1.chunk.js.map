{"version":3,"sources":["App.js","index.js"],"names":["App","props","state","searchData","searchText","time","setTime","havePosts","showLoader","event","clearInterval","this","setState","getPostData","preventDefault","e","target","value","val","axios","get","params","key","then","res","console","log","data","statuses","length","timer","catch","err","message","setInterval","refreshTimer","listItem","map","item","index","className","src","user","profile_image_url","alt","style","name","screen_name","created_at","text","onSubmit","submitSearch","type","onChange","searchInputValue","placeholder","textAlign","React","Component","ReactDOM","render","document","querySelector"],"mappings":"iWA2JeA,G,kBAhJb,WAAYC,GAAO,IAAD,8BAChB,4CAAMA,KACDC,MAAQ,CACXC,WAAa,GACbC,WAAY,GACZC,KAAM,GACNC,QAAS,KACTC,WAAW,EACXC,YAAY,GARE,E,0EAaLC,GACXC,cAAcC,KAAKT,MAAMI,SACtBK,KAAKT,MAAME,YACZO,KAAKC,SAAS,CACZP,KAAM,KAERM,KAAKE,YAAYF,KAAKT,MAAME,aAE5BO,KAAKC,SAAS,CACZT,WAAY,GACZI,WAAW,IAGfE,EAAMK,mB,uCAISC,GACfJ,KAAKC,SAAS,CACZR,WAAYW,EAAEC,OAAOC,U,kCAKbC,GAAK,IAAD,OACdP,KAAKC,SAAS,CACZJ,YAAY,EACZD,WAAW,IAEbY,IAAMC,IAAI,qDAAsD,CAC9DC,OAAQ,CACNC,IAAKJ,KAENK,KAAK,SAACC,GACPC,QAAQC,IAAI,MAAMF,GACfA,EAAIG,KAAKC,SAASC,QACnB,EAAKjB,SAAS,CACZT,WAAW,YAAKqB,EAAIG,KAAKC,UACzBrB,WAAW,EACXC,YAAY,IAEd,EAAKsB,SAEL,EAAKlB,SAAS,CACZT,WAAY,GACZI,WAAW,EACXC,YAAY,MAGfuB,MAAM,SAACC,GACRP,QAAQC,IAAIM,EAAIC,a,8BAKZ,IAAD,OACHtB,KAAKT,MAAMI,QAAU4B,YAAY,kBAAI,EAAKC,gBAAgB,O,qCAKzDxB,KAAKT,MAAMG,MAAQ,EAClBM,KAAKC,SAAS,CACZP,KAAMM,KAAKT,MAAMG,KAAO,KAG5BK,cAAcC,KAAKT,MAAMI,SACzBK,KAAKC,SAAS,CACZP,KAAM,KAERM,KAAKE,YAAYF,KAAKT,MAAME,e,+BAIvB,IAAD,SACwDO,KAAKT,MAA5DC,EADD,EACCA,WAAwBE,GADzB,EACaD,WADb,EACyBC,MAAME,EAD/B,EAC+BA,UAAWC,EAD1C,EAC0CA,WAC1C4B,EAAWjC,EAAWkC,IAAI,SAACC,EAAMC,GACrC,OACE,yBAAKC,UAAU,qBAAqBlB,IAAKiB,GACvC,yBAAKC,UAAU,uBACb,yBAAKC,IAAKH,EAAKI,KAAKC,kBAAmBC,IAAI,GAAGJ,UAAU,sBAAsBK,MAAO,CAAC,MAAQ,UAC9F,yBAAKL,UAAU,cACb,wBAAIA,UAAU,cACXF,EAAKI,KAAKI,KACX,0BAAMN,UAAU,WAAhB,IAA4BF,EAAKI,KAAKK,YAAtC,KACA,+BAAO,2BAAIT,EAAKU,cAElB,2BAAIV,EAAKW,WAMnB,OACE,yBAAKT,UAAU,OACb,yBAAKA,UAAU,aACb,yBAAKA,UAAU,gBACb,+CACCjC,GAAa,8CAAoBF,EAApB,aAGhB,yBAAKmC,UAAU,8BACb,yBAAKA,UAAU,YACb,0BAAMU,SAAU,SAACzC,GAAD,OAAS,EAAK0C,aAAa1C,KACzC,yBAAK+B,UAAU,oBACb,2BAAOY,KAAK,OAAOZ,UAAU,eAAea,SAAU,SAACtC,GAAD,OAAK,EAAKuC,iBAAiBvC,IAAIwC,YAAY,WACjG,yBAAKf,UAAU,sBACb,4BAAQY,KAAK,SAASZ,UAAU,+BAAhC,eASV,yBAAKA,UAAU,OACZJ,GAEF5B,GAAY,yBAAKgC,UAAU,YAC1BjC,GAAa,wBAAIsC,MAAO,CAACW,UAAU,WAAtB,4B,GAvIPC,IAAMC,YCHxBC,IAASC,OACL,kBAAC,EAAD,MACAC,SAASC,cAAc,Y","file":"static/js/main.dfb427e1.chunk.js","sourcesContent":["import React from 'react';\nimport './App.css';\nimport './loader.css';\nimport axios from 'axios';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n\n\nclass App extends React.Component{\n\n  constructor(props){\n    super(props);\n    this.state = {\n      searchData : [],\n      searchText: '',\n      time: 30,\n      setTime: null,\n      havePosts: false,\n      showLoader: false\n    }\n  }\n\n  // search form submit\n  submitSearch(event){\n    clearInterval(this.state.setTime);\n    if(this.state.searchText){\n      this.setState({\n        time: 30\n      })\n      this.getPostData(this.state.searchText);\n    }else{\n      this.setState({\n        searchData: [],\n        havePosts: false\n      })\n    }\n    event.preventDefault();\n  }\n\n  // set search input value to searchText\n  searchInputValue(e){\n    this.setState({\n      searchText: e.target.value\n    })\n  }\n\n  // get post data\n  getPostData(val){\n    this.setState({\n      showLoader: true,\n      havePosts: true\n    })\n    axios.get('https://aravindtwitter.herokuapp.com/twittersearch', {\n      params: {\n        key: val\n      }\n    }).then((res)=>{\n      console.log('res',res);\n      if(res.data.statuses.length){\n        this.setState({\n          searchData: [...res.data.statuses],\n          havePosts: true,\n          showLoader: false\n        });\n        this.timer();\n      }else{\n        this.setState({\n          searchData: [],\n          havePosts: false,\n          showLoader: false\n        })\n      }\n    }).catch((err)=>{\n      console.log(err.message);\n    })\n  }\n\n  // execute reset timer\n  timer(){\n      this.state.setTime = setInterval(()=>this.refreshTimer(), 1000);\n  }\n\n  // refresh timer logic\n  refreshTimer(){\n    if(this.state.time >= 1){\n        this.setState({\n          time: this.state.time - 1\n        })\n    }else{\n      clearInterval(this.state.setTime);\n      this.setState({\n        time: 30\n      })\n      this.getPostData(this.state.searchText);\n    }\n  }\n\n  render(){\n    const {searchData, searchText, time, havePosts, showLoader} = this.state;\n    const listItem = searchData.map((item, index)=>{\n      return (\n        <div className=\"col-lg-12 col-md-6\" key={index}>\n          <div className=\"media p-3 card-item\">\n            <img src={item.user.profile_image_url} alt=\"\" className=\"mr-3 rounded-circle\" style={{\"width\":\"60px\"}} />\n            <div className=\"media-body\">\n              <h4 className=\"post-title\">\n                {item.user.name}\n                <span className=\"user-id\">@{item.user.screen_name} </span>\n                <small><i>{item.created_at}</i></small>\n              </h4>\n              <p>{item.text}</p>\n            </div>\n          </div>\n        </div>\n      )\n    })\n    return (\n      <div className=\"App\">\n        <div className=\"container\">\n          <div className=\"refresh-time\">\n            <p>Search @ Twitter</p>\n            {havePosts && <p>Auto refresh in {time} seconds</p>}\n          </div>\n          {/* search */}\n          <div className=\"row justify-content-center\">\n            <div className=\"col-md-9\">\n              <form onSubmit={(event)=>this.submitSearch(event)}>\n                <div className=\"input-group mb-3\">\n                  <input type=\"text\" className=\"form-control\" onChange={(e)=>this.searchInputValue(e)} placeholder=\"Search\" />\n                  <div className=\"input-group-append\">\n                    <button type=\"submit\" className=\"input-group-text search-btn\">Search</button>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n          {/* /search */}\n\n          {/* list */}\n          <div className=\"row\">\n            {listItem}\n          </div>\n          {showLoader&&<div className=\"loader\"></div>}\n          {!havePosts && <h3 style={{textAlign:'center'}}>No Posts available</h3>}\n          {/* /list */}\n\n        </div> \n      </div>\n    );\n  }\n}\n\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n    document.querySelector('#root')\n)\n\n"],"sourceRoot":""}